"use strict";(self.webpackChunkspotify_demo=self.webpackChunkspotify_demo||[]).push([[347],{2347:(e,r,t)=>{t.r(r),t.d(r,{default:()=>A}),t(6540);var a=t(9494),s=t(3957),i=t(3930),n=t(4871);var o=t(1083),l=t(5800);const d=()=>{const e=(()=>{const{data:e}=(0,i.I)({queryKey:["client-credential=token"],queryFn:n.M});return null==e?void 0:e.access_token})();return(0,i.I)({queryKey:["new-releases"],queryFn:async()=>{if(!e)throw new Error("토큰 없어");return(async e=>{try{return(await o.A.get("".concat(l.$,"/browse/new-releases?limit=6"),{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){throw new Error("fail to fetch new release")}})(e)}})};var c=t(3923),h=t(3875),x=t(4848);const p=e=>{let{errorMessage:r}=e;return(0,x.jsx)(h.A,{severity:"error",children:r})};var u=t(6739);const m=(0,u.Ay)("button")((e=>{let{theme:r}=e;return{backgroundColor:r.palette.primary.main,border:"none",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"rgba(0, 0, 0, 0.3) 0px 8px 8px 0px","&:focus":{outline:"none"}}})),y=()=>(0,x.jsx)(m,{children:(0,x.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{d:"M8 5v14l11-7z",fill:"black"})})}),v=(0,u.Ay)("div")((e=>{let{theme:r}=e;return{minWidth:"160px",width:"100%",height:"100%",padding:"12px",borderRadius:"8px","&:hover":{backgroundColor:r.palette.action.hover,transform:"translate3d(0px, 0px, 0px)",transition:"opacity 0.3s ease-in-out"},"&:hover .overlay":{opacity:1}}})),g=(0,u.Ay)("img")({width:"100%",height:"auto",borderRadius:"8px",marginBottom:"8px"}),w=(0,u.Ay)(a.A)({whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),j=(0,u.Ay)("div")({position:"absolute",bottom:"20px",right:"8px",opacity:0,transform:"translate3d(0px, 0px, 0px)",transition:"opacity 0.3s ease-in-out"}),b=e=>{let{name:r,artistName:t,image:a}=e;return(0,x.jsxs)(v,{children:[(0,x.jsxs)("div",{style:{position:"relative"},children:[(0,x.jsx)(g,{src:a}),(0,x.jsx)(j,{className:"overlay",children:(0,x.jsx)(y,{})})]}),(0,x.jsx)(w,{variant:"h2",children:r||"No name"}),(0,x.jsx)(w,{variant:"body1",color:"text.secondary",children:t||"No artist"})]})},f=()=>{const{data:e,error:r,isLoading:t}=d();return console.log(e),t?(0,x.jsx)(c.A,{}):r?(0,x.jsx)(p,{errorMessage:r.message}):(0,x.jsx)("div",{children:(0,x.jsxs)("div",{children:[(0,x.jsx)(a.A,{variant:"h1",paddingTop:"8px",children:"New Released Albums"}),e&&e.albums.items.length>0?(0,x.jsx)(s.A,{container:!0,spacing:2,children:e.albums.items.map((e=>(0,x.jsx)(s.A,{size:{xs:6,sm:4,md:2},children:(0,x.jsx)(b,{name:e.name,artistName:e.artists.map((e=>e.name)).join(", "),image:e.images[0].url})},e.id)))}):(0,x.jsx)(a.A,{variant:"h2",children:"No data"})]})})},A=()=>(0,x.jsx)("div",{children:(0,x.jsx)(f,{})})}}]);
//# sourceMappingURL=347.js.map?ver=dab84eb2a4856a9b7d1b