"use strict";(self.webpackChunkspotify_demo=self.webpackChunkspotify_demo||[]).push([[768],{2229:(e,t,r)=>{r.d(t,{A:()=>n});var o=r(1083),a=r(5800);const i=o.A.create({baseURL:a.$7,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}});i.interceptors.request.use((e=>(e.headers.Authorization="Bearer ".concat(localStorage.getItem("access_token")),e)));const n=i},2768:(e,t,r)=>{r.r(t),r.d(t,{default:()=>re});var o=r(6540),a=r(5647),i=r(7286),n=r(8511);var s=r(6739),l=r(9494),c=r(4164),d=r(1362);const p=o.createContext();var u=r(9241),h=r(3202),g=r(6148),y=r(1908);function f(e){return(0,y.Ay)("MuiTable",e)}(0,g.A)("MuiTable",["root","stickyHeader"]);var m=r(4848);const v=(0,s.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})((0,u.A)((({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]})))),b="table",x=o.forwardRef((function(e,t){const r=(0,h.b)({props:e,name:"MuiTable"}),{className:a,component:i=b,padding:n="normal",size:s="medium",stickyHeader:l=!1,...u}=r,g={...r,component:i,padding:n,size:s,stickyHeader:l},y=(e=>{const{classes:t,stickyHeader:r}=e,o={root:["root",r&&"stickyHeader"]};return(0,d.A)(o,f,t)})(g),x=o.useMemo((()=>({padding:n,size:s,stickyHeader:l})),[n,s,l]);return(0,m.jsx)(p.Provider,{value:x,children:(0,m.jsx)(v,{as:i,role:i===b?null:"table",ref:t,className:(0,c.A)(y.root,a),ownerState:g,...u})})})),w=o.createContext();function A(e){return(0,y.Ay)("MuiTableHead",e)}(0,g.A)("MuiTableHead",["root"]);const j=(0,s.Ay)("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),P={variant:"head"},k="thead",R=o.forwardRef((function(e,t){const r=(0,h.b)({props:e,name:"MuiTableHead"}),{className:o,component:a=k,...i}=r,n={...r,component:a},s=(e=>{const{classes:t}=e;return(0,d.A)({root:["root"]},A,t)})(n);return(0,m.jsx)(w.Provider,{value:P,children:(0,m.jsx)(j,{as:a,className:(0,c.A)(s.root,o),ref:t,role:a===k?null:"rowgroup",ownerState:n,...i})})}));var S=r(2777);function M(e){return(0,y.Ay)("MuiTableRow",e)}const O=(0,g.A)("MuiTableRow",["root","selected","hover","head","footer"]),C=(0,s.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})((0,u.A)((({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${O.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${O.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,S.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,S.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})))),N="tr",T=o.forwardRef((function(e,t){const r=(0,h.b)({props:e,name:"MuiTableRow"}),{className:a,component:i=N,hover:n=!1,selected:s=!1,...l}=r,p=o.useContext(w),u={...r,component:i,hover:n,selected:s,head:p&&"head"===p.variant,footer:p&&"footer"===p.variant},g=(e=>{const{classes:t,selected:r,hover:o,head:a,footer:i}=e,n={root:["root",r&&"selected",o&&"hover",a&&"head",i&&"footer"]};return(0,d.A)(n,M,t)})(u);return(0,m.jsx)(C,{as:i,ref:t,className:(0,c.A)(g.root,a),role:i===N?null:"row",ownerState:u,...l})})),H=T;var $=r(9407);function z(e){return(0,y.Ay)("MuiTableCell",e)}const D=(0,g.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),E=(0,s.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${(0,$.A)(r.size)}`],"normal"!==r.padding&&t[`padding${(0,$.A)(r.padding)}`],"inherit"!==r.align&&t[`align${(0,$.A)(r.align)}`],r.stickyHeader&&t.stickyHeader]}})((0,u.A)((({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===e.palette.mode?(0,S.a)((0,S.X4)(e.palette.divider,1),.88):(0,S.e$)((0,S.X4)(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${D.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]})))),_=o.forwardRef((function(e,t){const r=(0,h.b)({props:e,name:"MuiTableCell"}),{align:a="inherit",className:i,component:n,padding:s,scope:l,size:u,sortDirection:g,variant:y,...f}=r,v=o.useContext(p),b=o.useContext(w),x=b&&"head"===b.variant;let A;A=n||(x?"th":"td");let j=l;"td"===A?j=void 0:!j&&x&&(j="col");const P=y||b&&b.variant,k={...r,align:a,component:A,padding:s||(v&&v.padding?v.padding:"normal"),size:u||(v&&v.size?v.size:"medium"),sortDirection:g,stickyHeader:"head"===P&&v&&v.stickyHeader,variant:P},R=(e=>{const{classes:t,variant:r,align:o,padding:a,size:i,stickyHeader:n}=e,s={root:["root",r,n&&"stickyHeader","inherit"!==o&&`align${(0,$.A)(o)}`,"normal"!==a&&`padding${(0,$.A)(a)}`,`size${(0,$.A)(i)}`]};return(0,d.A)(s,z,t)})(k);let S=null;return g&&(S="asc"===g?"ascending":"descending"),(0,m.jsx)(E,{as:A,ref:t,className:(0,c.A)(R.root,i),"aria-sort":S,scope:j,ownerState:k,...f})})),I=_;function V(e){return(0,y.Ay)("MuiTableBody",e)}(0,g.A)("MuiTableBody",["root"]);const W=(0,s.Ay)("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),B={variant:"body"},F="tbody",L=o.forwardRef((function(e,t){const r=(0,h.b)({props:e,name:"MuiTableBody"}),{className:o,component:a=F,...i}=r,n={...r,component:a},s=(e=>{const{classes:t}=e;return(0,d.A)({root:["root"]},V,t)})(n);return(0,m.jsx)(w.Provider,{value:B,children:(0,m.jsx)(W,{className:(0,c.A)(s.root,o),as:a,ref:t,role:a===F?null:"rowgroup",ownerState:n,...i})})}));var q=r(3923);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function X(e,t,r){return(t=function(e){var t=function(e){if("object"!=U(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==U(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var K=r(6475);function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}const Q=e=>(0,K.q)({queryKey:["playlist-items",e],queryFn:t=>{let{pageParam:r}=t;return(0,n.Dg)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({offset:r},e))},initialPageParam:0,getNextPageParam:e=>{if(e.next){const t=new URL(e.next).searchParams.get("offset");return t?parseInt(t):void 0}}});var Y=r(5692);const G=e=>{var t;let{item:r,index:a,playlist_id:i}=e;const{data:n,fetchNextPage:s,hasNextPage:l,isFetchingNextPage:c}=Q({limit:10,offset:0,playlist_id:i});console.log("ddd",n);const{ref:d,inView:p}=(0,Y.Wx)();(0,o.useEffect)((()=>{p&&l&&!c&&s()}),[p,l,c]);let u=new Date,h=u.getFullYear(),g=String(u.getMonth()+1).padStart(2,"0"),y=String(u.getDate()).padStart(2,"0"),f=String(u.getMinutes()),v=String(u.getSeconds()),b="".concat(h,"-").concat(g,"-").concat(y),x="".concat(f,":").concat(v);return(0,m.jsxs)(H,{children:[(0,m.jsx)(I,{children:a}),(0,m.jsx)(I,{children:r.track.name||"no name"}),(0,m.jsx)(I,{children:(w=r.track,"description"in w?"N/A":null===(t=r.track.album)||void 0===t?void 0:t.name)}),(0,m.jsx)(I,{children:b||"Unknown"}),(0,m.jsxs)(I,{children:[x||"Unknown",(0,m.jsx)("span",{ref:d,style:{display:"inline-block",width:1,height:1}})]})]});var w};var Z=r(5800);const ee=(0,s.Ay)("div")((e=>{let{theme:t}=e;return{width:"100%",padding:"16px 16px 0px 16px",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"}})),te=(0,s.Ay)("div")((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",marginLeft:"20px"}})),re=()=>{var e,t,r;const{id:o}=(0,a.g)(),{data:s,isLoading:c}=(d={playlist_id:o||""},(0,i.I)({queryKey:["playlist-detali",d.playlist_id],queryFn:()=>(0,n.bt)(d),enabled:!!d.playlist_id}));var d;console.log(s);const{data:p,isLoading:u,error:h,hasNextPage:g,isFetchingNextPage:y,fetchNextPage:f}=Q({playlist_id:o||"",limit:Z.Wt,offset:0});if(console.log("ddd",p),!o)return(0,m.jsx)(a.C5,{to:"/"});if(c||!s)return(0,m.jsx)(q.A,{});const v=(null===(e=s.images)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.url)||"";return(0,m.jsxs)(ee,{children:[(0,m.jsx)("img",{src:v||"/images/noImage.png",alt:s.name,loading:"lazy",style:{borderRadius:8,width:100,height:100}}),(0,m.jsxs)(te,{children:[(0,m.jsx)(l.A,{variant:"h3",fontWeight:700,color:"white",children:s.name}),(0,m.jsx)(l.A,{variant:"h2",fontWeight:700,color:"theme.primary",children:s.owner.display_name}),(0,m.jsxs)(l.A,{variant:"h2",fontWeight:700,color:"theme.primary",children:[null===(t=s.images)||void 0===t?void 0:t.length," songs"]})]}),0===(null==s||null===(r=s.tracks)||void 0===r?void 0:r.total)?(0,m.jsx)(l.A,{children:"Search"}):(0,m.jsxs)(x,{children:[(0,m.jsx)(R,{children:(0,m.jsxs)(H,{children:[(0,m.jsx)(I,{children:"#"}),(0,m.jsx)(I,{children:"Title"}),(0,m.jsx)(I,{children:"Album"}),(0,m.jsx)(I,{children:"Date Added"}),(0,m.jsx)(I,{children:"Duration"})]})}),(0,m.jsx)(L,{children:null==p?void 0:p.pages.map(((e,t)=>e.items.map(((e,r)=>(0,m.jsx)(G,{item:e,index:t*Z.Wt+r+1,playlist_id:o},t*Z.Wt+r+1)))))})]})]})}},5692:(e,t,r)=>{r.d(t,{Wx:()=>c});var o=r(6540),a=(Object.defineProperty,new Map),i=new WeakMap,n=0,s=void 0;function l(e,t,r={},o=s){if(void 0===window.IntersectionObserver&&void 0!==o){const a=e.getBoundingClientRect();return t(o,{isIntersecting:o,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}const{id:l,observer:c,elements:d}=function(e){const t=function(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(r=e.root,r?(i.has(r)||(n+=1,i.set(r,n.toString())),i.get(r)):"0"):e[t]}`;var r})).toString()}(e);let r=a.get(t);if(!r){const o=new Map;let i;const n=new IntersectionObserver((t=>{t.forEach((t=>{var r;const a=t.isIntersecting&&i.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=a),null==(r=o.get(t.target))||r.forEach((e=>{e(a,t)}))}))}),e);i=n.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:n,elements:o},a.set(t,r)}return r}(r),p=d.get(e)||[];return d.has(e)||d.set(e,p),p.push(t),c.observe(e),function(){p.splice(p.indexOf(t),1),0===p.length&&(d.delete(e),c.unobserve(e)),0===d.size&&(c.disconnect(),a.delete(l))}}function c({threshold:e,delay:t,trackVisibility:r,rootMargin:a,root:i,triggerOnce:n,skip:s,initialInView:c,fallbackInView:d,onChange:p}={}){var u;const[h,g]=o.useState(null),y=o.useRef(p),[f,m]=o.useState({inView:!!c,entry:void 0});y.current=p,o.useEffect((()=>{if(s||!h)return;let o;return o=l(h,((e,t)=>{m({inView:e,entry:t}),y.current&&y.current(e,t),t.isIntersecting&&n&&o&&(o(),o=void 0)}),{root:i,rootMargin:a,threshold:e,trackVisibility:r,delay:t},d),()=>{o&&o()}}),[Array.isArray(e)?e.toString():e,h,i,a,n,s,r,d,t]);const v=null==(u=f.entry)?void 0:u.target,b=o.useRef(void 0);h||!v||n||s||b.current===v||(b.current=v,m({inView:!!c,entry:void 0}));const x=[g,f.inView,f.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}o.Component},6475:(e,t,r)=>{r.d(t,{q:()=>s});var o=r(1651),a=r(8959),i=class extends o.${constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:(0,a.PL)()})}getOptimisticResult(e){return e.behavior=(0,a.PL)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:r}=e,o=super.createResult(e,t),{isFetching:i,isRefetching:n,isError:s,isRefetchError:l}=o,c=r.fetchMeta?.fetchMore?.direction,d=s&&"forward"===c,p=i&&"forward"===c,u=s&&"backward"===c,h=i&&"backward"===c;return{...o,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,a.rB)(t,r.data),hasPreviousPage:(0,a.RQ)(t,r.data),isFetchNextPageError:d,isFetchingNextPage:p,isFetchPreviousPageError:u,isFetchingPreviousPage:h,isRefetchError:l&&!d&&!u,isRefetching:n&&!p&&!h}}},n=r(8074);function s(e,t){return(0,n.t)(e,i,t)}},8511:(e,t,r)=>{r.d(t,{Dg:()=>n,U4:()=>a,bt:()=>i});var o=r(2229);const a=async e=>{let{limit:t,offset:r}=e;try{return(await o.A.get("/me/playlists",{params:{limit:t,offset:r}})).data}catch(e){throw new Error("fila to fetch current user playlists")}},i=async e=>{try{return(await o.A.get("/playlists/".concat(e.playlist_id),{params:e})).data}catch(e){throw new Error("fail to fetch playlist detail")}},n=async e=>{try{return(await o.A.get("/playlists/".concat(e.playlist_id,"/tracks"),{params:e})).data}catch(e){throw new Error("fail to fetch playlist items")}}}}]);
//# sourceMappingURL=768.js.map?ver=1101b3c5ee3bd75a03c9