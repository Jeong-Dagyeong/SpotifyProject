{"version":3,"file":"723.js?ver=9ff2b6bc914460d788cc","mappings":"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","sources":["webpack://spotify-demo/./src/utils/api.ts","webpack://spotify-demo/./src/layout/components/LibraryHead.tsx","webpack://spotify-demo/./src/apis/userApi.ts","webpack://spotify-demo/./src/hooks/useGetCurrentUserProfile.ts","webpack://spotify-demo/./src/layout/components/Library.tsx","webpack://spotify-demo/./src/hooks/useGetCurrentUserPlaylists.ts","webpack://spotify-demo/./src/utils/crypto.ts","webpack://spotify-demo/./src/common/components/LoginBtn.tsx","webpack://spotify-demo/./src/utils/auth.ts","webpack://spotify-demo/./src/layout/components/Navbar.tsx","webpack://spotify-demo/./src/layout/AppLayout.tsx","webpack://spotify-demo/./src/apis/playlistApi.ts"],"sourcesContent":["import axios from 'axios'\nimport { SPOTIFY_BASE_URL } from '../configs/commonConfig'\n\nconst api = axios.create({\n  baseURL: SPOTIFY_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n  },\n})\n\napi.interceptors.request.use((request) => {\n  request.headers.Authorization = `Bearer ${localStorage.getItem('access_token')}`\n  return request\n})\n\nexport default api\n","import BookmarkIcon from '@mui/icons-material/Bookmark'\nimport { styled, Typography } from '@mui/material'\nimport AddRoundedIcon from '@mui/icons-material/AddRounded'\n\nconst AddLibrary = styled('div')(({ theme }) => ({\n  display: 'flex',\n  justifyContent: 'space-evenly',\n  marginTop: '30px',\n}))\n\nconst LibraryHead = () => {\n  return (\n    <div>\n      <AddLibrary>\n        <BookmarkIcon />\n        <Typography variant=\"h2\" fontWeight={700}>\n          Your Library\n        </Typography>\n        <AddRoundedIcon sx={{ color: 'green' }} />\n      </AddLibrary>\n    </div>\n  )\n}\n\nexport default LibraryHead\n","import { User } from '../models/user'\nimport api from '../utils/api'\n\nexport const getCurrentUserProfile = async (): Promise<User> => {\n  try {\n    const response = await api.get(`/me`)\n    return response.data\n  } catch (error) {\n    throw new Error('fail to fetch user porfile')\n  }\n}\n","import { useQuery, UseQueryResult } from '@tanstack/react-query'\nimport { getCurrentUserProfile } from '../apis/userApi'\nimport { User } from '../models/user'\n\nconst useGetCurrentUserProfile = (): UseQueryResult<User, Error> => {\n  const accessToken = localStorage.getItem('access_token')\n  return useQuery({\n    queryKey: ['current-user-profile'],\n    queryFn: getCurrentUserProfile,\n    enabled: !!accessToken,\n  })\n}\n\nexport default useGetCurrentUserProfile\n","import { ImageList, ImageListItem, Typography, styled } from '@mui/material'\nimport useGetCurrentUserPlaylists from '../../hooks/useGetCurrentUserPlaylists'\nimport useGetCurrentUserProfile from '../../hooks/useGetCurrentUserProfile'\nimport { useEffect } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { Navigate, useNavigate } from 'react-router'\n\nconst PlaylistContainer = styled('div')(({ theme }) => ({\n  overflowY: 'auto',\n  maxHeight: 'calc(100vh - 240px)',\n  height: '100%',\n  padding: '12px',\n  '&::-webkit-scrollbar': {\n    display: 'none',\n  },\n  msOverflowStyle: 'none',\n  scrollbarWidth: 'none',\n  [theme.breakpoints.down('sm')]: {\n    maxHeight: 'calc(100vh - 65px - 119px)',\n  },\n}))\n\nconst Library = () => {\n  const { data, fetchNextPage, hasNextPage, isFetchingNextPage } = useGetCurrentUserPlaylists({\n    limit: 10,\n    offset: 0,\n  })\n  const { data: user } = useGetCurrentUserProfile()\n  const { ref, inView } = useInView()\n\n  useEffect(() => {\n    if (inView && hasNextPage && !isFetchingNextPage) {\n      fetchNextPage()\n    }\n  }, [inView, hasNextPage, isFetchingNextPage])\n\n  const navigate = useNavigate()\n\n  const handleClick = (id: string) => {\n    navigate(`/playlist/${id}`)\n  }\n\n  if (!user || !data) return null\n\n  return (\n    <PlaylistContainer>\n      <ImageList cols={2} gap={16} variant=\"standard\">\n        {data.pages.map((page, pageIndex) =>\n          page.items.map((playlist, i) => {\n            const imageUrl = Array.isArray(playlist.images) && playlist.images.length > 0 ? playlist.images[0].url : ''\n            const id = playlist.id\n            if (!id) return null\n            return (\n              <ImageListItem key={`${pageIndex}-${playlist.id}`} onClick={() => handleClick(id)}>\n                <img\n                  src={imageUrl || '/broken-image.jpg'}\n                  alt={playlist.name}\n                  loading=\"lazy\"\n                  style={{ borderRadius: 8 }}\n                />\n                <Typography variant=\"subtitle1\" fontWeight={700} color=\"limegreen\" mt={1}>\n                  {playlist.name}\n                </Typography>\n                <Typography variant=\"body2\" color=\"#aaa\">\n                  Playlist • {playlist.owner.display_name}\n                </Typography>\n              </ImageListItem>\n            )\n          })\n        )}\n      </ImageList>\n      <div ref={ref} />\n    </PlaylistContainer>\n  )\n}\n\nexport default Library\n","import { useInfiniteQuery } from '@tanstack/react-query'\nimport { GetCurrentUserPlaylistRequest } from '../models/playlist'\nimport { getCurrentUserPlaylists } from '../apis/playlistApi'\n\nconst useGetCurrentUserPlaylists = ({ limit, offset }: GetCurrentUserPlaylistRequest) => {\n  return useInfiniteQuery({\n    queryKey: ['current-user-playlists'],\n    queryFn: ({ pageParam = 0 }) => {\n      return getCurrentUserPlaylists({ limit, offset: pageParam })\n    },\n    initialPageParam: 0, // 첫 시작값\n    getNextPageParam: (lastPage) => {\n      if (lastPage.next) {\n        const url = new URL(lastPage.next)\n        const nextOffset = url.searchParams.get('offset')\n        return nextOffset ? parseInt(nextOffset) : undefined\n      }\n      return undefined\n    },\n  })\n}\n\nexport default useGetCurrentUserPlaylists\n","export const generateRandomString = (length: number): string => {\n  const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n  const values = crypto.getRandomValues(new Uint8Array(length))\n  return values.reduce((acc, x) => acc + possible[x % possible.length], '')\n}\n\nexport const sha256 = async (plain: string): Promise<ArrayBuffer> => {\n  const encoder = new TextEncoder()\n  const data = encoder.encode(plain)\n  return window.crypto.subtle.digest('SHA-256', data)\n}\n\nexport const base64encode = (input: ArrayBuffer): string => {\n  return btoa(String.fromCharCode(...new Uint8Array(input)))\n    .replace(/=/g, '')\n    .replace(/\\+/g, '-')\n    .replace(/\\//g, '_')\n}\n","import { Button } from '@mui/material'\nimport React from 'react'\nimport { getSpotifyAuthUrl } from '../../utils/auth'\n\nconst LoginBtn = () => {\n  const login = () => {\n    getSpotifyAuthUrl()\n  }\n  return (\n    <Button variant=\"contained\" color=\"secondary\" size=\"large\" onClick={login}>\n      Login\n    </Button>\n  )\n}\n\nexport default LoginBtn\n","import { CLIENT_ID, SCOPES } from '../configs/authConfig'\nimport { REDIRECT_URI } from '../configs/commonConfig'\nimport { AuthUrlParams } from '../models/auth'\nimport { base64encode, generateRandomString, sha256 } from './crypto'\n\nexport const getSpotifyAuthUrl = async () => {\n  const codeVerifier = generateRandomString(64)\n  const hashed = await sha256(codeVerifier)\n  const codeChallenge = base64encode(hashed)\n\n  const clientId = CLIENT_ID\n  const redirectUri = REDIRECT_URI\n\n  const scope = SCOPES\n  const authUrl = new URL('https://accounts.spotify.com/authorize')\n\n  // generated in the previous step\n  window.localStorage.setItem('code_verifier', codeVerifier)\n\n  if (clientId && redirectUri) {\n    const params: AuthUrlParams = {\n      response_type: 'code',\n      client_id: clientId,\n      scope,\n      code_challenge_method: 'S256',\n      code_challenge: codeChallenge,\n      redirect_uri: redirectUri,\n    }\n    authUrl.search = new URLSearchParams(Object.entries(params)).toString()\n    window.location.href = authUrl.toString() // spotify 로그인 주소를 연다\n  }\n}\n","import { Avatar, Box } from '@mui/material'\nimport React, { useState } from 'react'\nimport LoginBtn from '../../common/components/LoginBtn'\nimport useGetCurrentUserProfile from '../../hooks/useGetCurrentUserProfile'\n\nconst Navbar = () => {\n  const [imgError, setImgError] = useState(false)\n\n  const { data: userProfile } = useGetCurrentUserProfile()\n  const imageUrl = userProfile?.images?.[0]?.url\n\n  return (\n    // <Box display=\"flex\" justifyContent=\"flex-end\" alignItems=\"center\" height=\"24px\">\n    //   {userProfile ? userProfile?.images?.[0]?.url : <LoginBtn />}\n    // </Box>\n    <Box display=\"flex\" justifyContent=\"flex-end\" alignItems=\"center\" height=\"40px\">\n      {userProfile ? (\n        <Avatar\n          src={!imgError && imageUrl ? imageUrl : '/broken-image.jpg'}\n          onError={() => setImgError(true)}\n          alt=\"user-profile\"\n          sx={{ width: 32, height: 32 }}\n        />\n      ) : (\n        <LoginBtn />\n      )}\n    </Box>\n  )\n}\n\nexport default Navbar\n","import { Box, styled, Typography } from '@mui/material'\nimport { NavLink, Outlet } from 'react-router'\nimport HomeIcon from '@mui/icons-material/Home'\nimport SearchIcon from '@mui/icons-material/Search'\nimport LibraryHead from './components/LibraryHead'\nimport { useEffect, useState } from 'react'\nimport Library from './components/Library'\nimport Navbar from './components/Navbar'\n\nconst Layout = styled('div')({\n  display: 'flex',\n  height: '100vh',\n  padding: '8px',\n})\n\nconst Sidebar = styled('div')(({ theme }) => ({\n  width: '331px',\n  height: '100%',\n  display: 'flex',\n  flexDirection: 'column',\n  [theme.breakpoints.down('sm')]: {\n    display: 'none',\n  },\n}))\n\nconst ContentBox = styled(Box)(({ theme }) => ({\n  borderRadius: '8px',\n  backgroundColor: theme.palette.background.paper,\n  color: theme.palette.text.primary,\n  width: '100%',\n  // height: '13vh',\n  padding: '20px',\n  marginBottom: '8px',\n  marginRight: '8px',\n}))\n\nconst NavList = styled('ul')({\n  listStyle: 'none',\n  padding: 0,\n  margin: 0,\n})\n\nconst StyledNavLink = styled(NavLink)(({ theme }) => ({\n  textDecoration: 'none',\n  display: 'flex',\n  alignItems: 'center',\n  gap: '20px',\n  color: theme.palette.text.secondary,\n\n  '&.active': {\n    color: theme.palette.text.primary,\n  },\n\n  '& svg': {\n    color: theme.palette.text.secondary,\n  },\n\n  '&.active svg': {\n    color: theme.palette.text.primary,\n  },\n}))\n\nconst AppLayout = () => {\n  return (\n    <div>\n      <Layout>\n        <Sidebar>\n          <ContentBox>\n            <NavList>\n              <StyledNavLink to=\"/\">\n                <HomeIcon />\n                <Typography variant=\"h2\" fontWeight={700}>\n                  Home\n                </Typography>\n              </StyledNavLink>\n              <StyledNavLink to=\"/search\">\n                <SearchIcon />\n                <Typography variant=\"h2\" fontWeight={700}>\n                  Search\n                </Typography>\n              </StyledNavLink>\n            </NavList>\n          </ContentBox>\n          <LibraryHead />\n          <Library />\n        </Sidebar>\n        <ContentBox>\n          <Navbar />\n          <Outlet />\n        </ContentBox>\n      </Layout>\n    </div>\n  )\n}\n\nexport default AppLayout\n","import {\n  GetCurrentUserPlaylistRequest,\n  GetCurrentUserPlaylistResponse,\n  GetPlaylistRequest,\n  Playlist,\n} from '../models/playlist'\nimport api from '../utils/api'\n\nexport const getCurrentUserPlaylists = async ({\n  limit,\n  offset,\n}: GetCurrentUserPlaylistRequest): Promise<GetCurrentUserPlaylistResponse> => {\n  try {\n    const response = await api.get(`/me/playlists`, {\n      params: { limit, offset },\n    })\n    return response.data\n  } catch (error) {\n    throw new Error('fila to fetch current user playlists')\n  }\n}\n\nexport const getPlaylist = async (params: GetPlaylistRequest): Promise<Playlist> => {\n  try {\n    const response = await api.get(`/playlists/${params.playlist_id}`, {\n      params,\n    })\n    return response.data\n  } catch (error) {\n    throw new Error('fail to fetch playlist detail')\n  }\n}\n"],"names":["api","axios","create","baseURL","SPOTIFY_BASE_URL","headers","Authorization","concat","localStorage","getItem","interceptors","request","use","AddLibrary","styled","_ref","theme","display","justifyContent","marginTop","LibraryHead","_jsx","children","_jsxs","BookmarkIcon","Typography","variant","fontWeight","AddRoundedIcon","sx","color","getCurrentUserProfile","async","get","data","error","Error","useGetCurrentUserProfile","accessToken","useQuery","queryKey","queryFn","enabled","PlaylistContainer","overflowY","maxHeight","height","padding","msOverflowStyle","scrollbarWidth","breakpoints","down","Library","fetchNextPage","hasNextPage","isFetchingNextPage","limit","offset","useInfiniteQuery","_ref2","pageParam","getCurrentUserPlaylists","initialPageParam","getNextPageParam","lastPage","next","nextOffset","URL","searchParams","parseInt","undefined","useGetCurrentUserPlaylists","user","ref","inView","useInView","useEffect","navigate","useNavigate","ImageList","cols","gap","pages","map","page","pageIndex","items","playlist","i","imageUrl","Array","isArray","images","length","url","id","ImageListItem","onClick","handleClick","src","alt","name","loading","style","borderRadius","mt","owner","display_name","LoginBtn","Button","size","login","codeVerifier","crypto","getRandomValues","Uint8Array","reduce","acc","x","possible","codeChallenge","input","TextEncoder","encode","plain","window","subtle","digest","sha256","btoa","String","fromCharCode","replace","clientId","CLIENT_ID","redirectUri","REDIRECT_URI","scope","SCOPES","authUrl","setItem","params","response_type","client_id","code_challenge_method","code_challenge","redirect_uri","search","URLSearchParams","Object","entries","toString","location","href","getSpotifyAuthUrl","Navbar","_userProfile$images","imgError","setImgError","useState","userProfile","Box","alignItems","Avatar","onError","width","Layout","Sidebar","flexDirection","ContentBox","backgroundColor","palette","background","paper","text","primary","marginBottom","marginRight","NavList","listStyle","margin","StyledNavLink","NavLink","_ref3","textDecoration","secondary","AppLayout","to","HomeIcon","SearchIcon","Outlet","getPlaylist","playlist_id"],"sourceRoot":""}